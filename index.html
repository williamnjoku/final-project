<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoCurrency | Live Converter</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="font-inter light-mode transition-colors duration-300 min-h-screen p-4 sm:p-8">

    <div id="app-container" class="mx-auto">
        
        <header class="flex justify-between items-center py-4 mb-6">
            <h1 class="font-poppins text-3xl font-bold text-primary-action transition-colors">GoCurrency</h1>
            <div class="flex items-center space-x-3">
                <span id="user-display" class="text-xs text-gray-500 dark:text-gray-400 truncate max-w-[80px] sm:max-w-none">...</span>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                    <svg id="theme-icon" class="w-6 h-6 text-yellow-500 dark:text-gray-300 transition-colors" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"></svg>
                </button>
            </div>
        </header>

       
        <div id="loading-indicator" class="flex justify-center items-center py-8">
            <svg class="w-8 h-8 text-primary-action loading-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 0014 4m-3 7H4"></path>
            </svg>
            <span class="ml-3 text-lg font-medium text-gray-600 dark:text-gray-300">Loading Rates and Database...</span>
        </div>

        <div id="app-alert" class="mt-4 mb-4 hidden p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg dark:bg-red-900 dark:text-red-300"></div>


      
        <div id="main-layout" class="hidden">
            
            <div id="conversion-card" class="card p-6 rounded-xl shadow-lg border border-gray-200">
                <h2 class="font-poppins text-xl font-semibold mb-6">Conversion Panel</h2>
                
                <div class="mb-4">
                    <label for="from-amount" class="block text-sm font-medium mb-1">Amount</label>
                    <input type="number" id="from-amount" value="1.00" min="0" step="0.01" class="w-full p-3 border rounded-lg text-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors dark:bg-gray-700" placeholder="Enter amount">
                </div>

                <div class="flex items-start space-x-2 sm:space-x-4 mb-6">
                    
                    <div class="flex-1 min-w-0">
                        <label for="from-currency" class="block text-sm font-medium mb-1">From</label>
                        <select id="from-currency" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors dark:bg-gray-700"></select>
                    </div>
                    
                    <div class="flex items-end justify-center pt-7 sm:pt-5">
                        <button id="switch-currency" class="p-3 bg-primary-action text-white rounded-full shadow-md hover:opacity-90 transition-all duration-300">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m12 0l4 4m-4-4l4-4"></path></svg>
                        </button>
                    </div>

                    <div class="flex-1 min-w-0">
                        <label for="to-currency" class="block text-sm font-medium mb-1">To</label>
                        <select id="to-currency" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors dark:bg-gray-700"></select>
                    </div>
                    <button id="favorite-toggle" class="p-1 rounded-full text-gray-400 dark:text-gray-500 hover:text-yellow-500 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-500">
                        <svg id="favorite-icon" class="w-6 h-6 transition-colors duration-200" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.2691 4.41115C11.5006 3.89177 11.6164 3.63208 11.7776 3.55211C11.9176 3.48263 12.082 3.48263 12.222 3.55211C12.3832 3.63208 12.499 3.89177 12.7305 4.41115L14.5745 8.54808C14.643 8.70162 14.6772 8.77839 14.7302 8.83718C14.777 8.8892 14.8343 8.93081 14.8982 8.95929C14.9705 8.99149 15.0541 9.00031 15.2213 9.01795L19.7256 9.49336C20.2911 9.55304 20.5738 9.58288 20.6997 9.71147C20.809 9.82316 20.8598 9.97956 20.837 10.1342C20.8108 10.3122 20.5996 10.5025 20.1772 10.8832L16.8125 13.9154C16.6877 14.0279 16.6252 14.0842 16.5857 14.1527C16.5507 14.2134 16.5288 14.2807 16.5215 14.3503C16.5132 14.429 16.5306 14.5112 16.5655 14.6757L17.5053 19.1064C17.6233 19.6627 17.6823 19.9408 17.5989 20.1002C17.5264 20.2388 17.3934 20.3354 17.2393 20.3615C17.0619 20.3915 16.8156 20.2495 16.323 19.9654L12.3995 17.7024C12.2539 17.6184 12.1811 17.5765 12.1037 17.56C12.0352 17.5455 11.9644 17.5455 11.8959 17.56C11.8185 17.5765 11.7457 17.6184 11.6001 17.7024L7.67662 19.9654C7.18404 20.2495 6.93775 20.3915 6.76034 20.3615C6.60623 20.3354 6.47319 20.2388 6.40075 20.1002C6.31736 19.9408 6.37635 19.6627 6.49434 19.1064L7.4341 14.6757C7.46898 14.5112 7.48642 14.429 7.47814 14.3503C7.47081 14.2807 7.44894 14.2134 7.41394 14.1527C7.37439 14.0842 7.31195 14.0279 7.18708 13.9154L3.82246 10.8832C3.40005 10.5025 3.18884 10.3122 3.16258 10.1342C3.13978 9.97956 3.19059 9.82316 3.29993 9.71147C3.42581 9.58288 3.70856 9.55304 4.27406 9.49336L8.77835 9.01795C8.94553 9.00031 9.02911 8.99149 9.10139 8.95929C9.16534 8.93081 9.2226 8.8892 9.26946 8.83718C9.32241 8.77839 9.35663 8.70162 9.42508 8.54808L11.2691 4.41115Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>

                <div id="conversion-result" class="text-center p-4 sm:p-6 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800">
                    <p id="rate-display" class="text-sm text-gray-500 dark:text-gray-400">Rate will display here.</p>
                    <p id="total-display" class="font-poppins text-4xl sm:text-5xl font-extrabold mt-1 text-primary-action transition-colors">0.00</p>
                    <p id="cached-status" class="text-xs text-red-500 mt-1 hidden">Rates from cache. Offline mode active.</p>
                </div>
            </div>

            <div id="historical-widget" class="space-y-6">
                
                <div class="card p-6 rounded-xl shadow-lg border border-gray-200">
                    <h3 class="font-poppins text-xl font-semibold mb-4">Historical Exchange Rates</h3>
                    <div class="flex space-x-2 mb-4">
                        <button class="px-4 py-2 bg-primary-action text-white text-sm font-medium rounded-full hover:opacity-90 transition-opacity">7-DAY</button>
                        <button class="px-4 py-2 bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300 text-sm font-medium rounded-full hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">30-DAY</button>
                    </div>
                    <div id="historical-rates" class="text-sm">
                        <p class="text-gray-500 dark:text-gray-400">Select currencies and convert to see the historical trend.</p>
                    </div>
                </div>
            </div>
                
            <div class="lg:col-span-1">
                <div class="card p-6 rounded-xl shadow-lg border border-gray-200 sticky top-4">
                    <h3 class="font-poppins text-xl font-semibold mb-4 flex items-center">
                        <span class="mr-2 text-yellow-500">â˜…</span> My Favorite Pairs
                    </h3>
                    <ul id="favorites-list" class="space-y-2 text-sm">
                    </ul>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-4">Click a pair to load it in the converter.</p>
                </div>
            </div>
            
        </div>
        
    </div>

    <script type="module" src="scripts/app.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js" type="module"></script>
</body>
</html>